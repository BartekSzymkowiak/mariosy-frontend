<div class="page-content-container">
  <a
    class="button grey-on-hover"
    style="align-self: flex-start"
    (click)="goBack()"
  >
    <mat-icon svgIcon="left-arrow"></mat-icon>
    <span style="padding-left: 5px">BACK</span>
  </a>

  <form class="marios-form">
    <mat-form-field class="example-chip-list">
      <mat-label>Who you want to recognize?</mat-label>
      <mat-chip-grid #chipGrid aria-label="Fruit selection">
        <mat-chip-row
          *ngFor="let receiver of receivers"
          (removed)="remove(receiver.externalId.toString())"
        >
          {{ receiver.viewText }}
          <button
            matChipRemove
            [attr.aria-label]="'remove ' + receiver.externalId"
          >
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip-row>
      </mat-chip-grid>
      <input
        placeholder="New Receiver..."
        #userInput
        [formControl]="userCtrl"
        [matChipInputFor]="chipGrid"
        [matAutocomplete]="auto"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
      />
      <mat-autocomplete
        #auto="matAutocomplete"
        (optionSelected)="selected($event)"
      >
        <mat-option
          *ngFor="let user of filteredUsers"
          [value]="user.externalId"
        >
          {{ user.firstName }} {{ user.lastName }}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <div class="line"></div>
    <div class="form-row-container">
      <div class="form-label-text">Select category:</div>
      <mat-chip-listbox aria-label="Marios types">
        <mat-chip-option
          class="type-chips"
          *ngFor="let type of mariosTypes; index as typeIndex"
        >
          <mat-icon matChipAvatar svgIcon="{{ type.iconName }}"></mat-icon>
          {{ type.text }}
        </mat-chip-option>
      </mat-chip-listbox>
    </div>

    <div class="line"></div>
    <div class="form-row-container">
      <div class=" form-label-text">Title:</div>
      <mat-form-field class="example-full-width">
        <input type="email" matInput [formControl]="titleFormControl" placeholder="Enter marios title">
        <mat-error *ngIf="titleFormControl.hasError('required')">
          Title is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="line"></div>
    <div class="form-row-container">
      <div class=" form-label-text">Comment:</div>
      <mat-form-field class="example-full-width">
        <input matInput #message maxlength="255">
        <mat-hint align="end">{{message.value.length}} / 255</mat-hint>
      </mat-form-field>
    </div>


    <button class="submit-button grey-on-hover">SEND</button>
  </form>
</div>
